<div class="contact-wrapper">
  <h2 class="contact__title">Entre em contato</h2>
  <section class="contact__container">
    <form class="contact-form" [formGroup]="formContato"(ngSubmit)="enviarFormulario()">
      
      <!-- Nome -->
      <input 
        type="text" 
        placeholder="Digite o seu nome"
        formControlName="nome"
        [class.valid]="formContato.controls['nome'].valid"
        [class.invalid]="formContato.controls['nome'].invalid && (formContato.controls['nome'].touched || formContato.controls['nome'].dirty)"
      >
      <div *ngIf="formContato.controls['nome'].invalid && (formContato.controls['nome'].touched || formContato.controls['nome'].dirty)">
        <small class="error-message" *ngIf="formContato.controls['nome'].hasError('minlength')">
          Esse campo precisa de no mínimo 2 caracteres.
        </small>
        <small class="error-message" *ngIf="formContato.controls['nome'].hasError('required')">
          Esse campo precisa ser preenchido.
        </small>
      </div>

      <!-- Assunto -->
      <input 
        type="text" 
        placeholder="Digite o assunto"
        formControlName="assunto"
        [class.valid]="formContato.controls['assunto'].valid"
        [class.invalid]="formContato.controls['assunto'].invalid && (formContato.controls['assunto'].touched || formContato.controls['assunto'].dirty)"
      >
      <div *ngIf="formContato.controls['assunto'].invalid && (formContato.controls['assunto'].touched || formContato.controls['assunto'].dirty)">
        <small class="error-message" *ngIf="formContato.controls['assunto'].hasError('minlength')">
          O assunto deve ter pelo menos 10 caracteres.
        </small>
        <small class="error-message" *ngIf="formContato.controls['assunto'].hasError('required')">
          Esse campo precisa ser preenchido.
        </small>
      </div>

      <!-- Telefone -->
      <input 
        type="tel" 
        placeholder="(00) 0 0000-0000"
        mask="(00) 0 0000-0000"
        formControlName="telefone"
        [class.valid]="formContato.controls['telefone'].valid"
        [class.invalid]="formContato.controls['telefone'].invalid && (formContato.controls['telefone'].touched || formContato.controls['telefone'].dirty)"
      >
      <div *ngIf="formContato.controls['telefone'].invalid && (formContato.controls['telefone'].touched || formContato.controls['telefone'].dirty)">
        <small class="error-message" *ngIf="formContato.controls['telefone'].hasError('minlength')">
          Número de telefone deve ter pelo menos 11 dígitos.
        </small>
        <small class="error-message" *ngIf="formContato.controls['telefone'].hasError('required')">
          Esse campo precisa ser preenchido.
        </small>
      </div>

      <!-- Email -->
      <input 
        type="email" 
        placeholder="Digite o seu email"
        formControlName="email"
        [class.valid]="formContato.controls['email'].valid"
        [class.invalid]="formContato.controls['email'].invalid && (formContato.controls['email'].touched || formContato.controls['email'].dirty)"
      >
      <div *ngIf="formContato.controls['email'].invalid && (formContato.controls['email'].touched || formContato.controls['email'].dirty)">
        <small class="error-message" *ngIf="formContato.controls['email'].hasError('email')">
          Insira um e-mail válido.
        </small>
        <small class="error-message" *ngIf="formContato.controls['email'].hasError('required')">
          Esse campo precisa ser preenchido.
        </small>
      </div>

      <!-- Mensagem -->
      <textarea 
        placeholder="Digite sua mensagem"
        formControlName="mensagem"
        maxlength="300"
        [class.valid]="formContato.controls['mensagem'].valid"
        [class.invalid]="formContato.controls['mensagem'].invalid && (formContato.controls['mensagem'].touched || formContato.controls['mensagem'].dirty)"
      ></textarea>
      <div *ngIf="formContato.controls['mensagem'].invalid && (formContato.controls['mensagem'].touched || formContato.controls['mensagem'].dirty)">
        <small class="error-message" *ngIf="formContato.controls['mensagem'].hasError('minlength')">
          A mensagem deve ter no mínimo 20 caracteres.
        </small>
        <small class="error-message" *ngIf="formContato.controls['mensagem'].hasError('required')">
          Esse campo precisa ser preenchido.
        </small>
      </div>

      <button [disabled]="formContato.invalid" type="submit">Enviar</button>
    </form>

    <address>
      <iframe
        src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3557.575090257842!2d-49.0703074!3d-26.916977199999998!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x94df18c3b4a71d65%3A0xa5ec9dd8406a6a7!2sProWay!5e0!3m2!1spt-BR!2sbr!4v1752276796042!5m2!1spt-BR!2sbr"
        width="600"
        height="450"
        style="border:0;"
        allowfullscreen=""
        loading="lazy"
        referrerpolicy="no-referrer-when-downgrade"
      ></iframe>
      <p>R. 7 de Setembro, 1600 - 14º andar - Centro, Blumenau - SC, 89010-204</p>
    </address>
  </section>
</div>
